kind: Environment
version: v1
name: Source_Code_build_using_S2I
type: primary
components:
    -
        name: spring-petclinic-app
        kind: GenericComponent
        runnerImage: 'himanshumps/openjdk_8_bunnyshell:master'
        deploy:
            - echo "Running the run script"
            - /usr/local/s2i/run
        stop:
            - echo "Inside the stop method"
        destroy:
            - echo "Inside the destro method"
        start:
            - "Changing the ownership"
            - chown -R jboss:root .
            - echo "Copying the source code to /tmp/src"
            - mv **/* /tmp/src/
            - echo 'Running the assemble script'
            - /usr/local/s2i/assemble
        version: v1
        gitRepo: 'https://github.com/himanshumps/spring-petclinic.git'
        gitBranch: master
